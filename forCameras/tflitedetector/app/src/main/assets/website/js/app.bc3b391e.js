(function(e){function t(t){for(var n,i,c=t[0],o=t[1],l=t[2],d=0,f=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,c=1;c<r.length;c++){var o=r[c];0!==a[o]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},s=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/app/com.securityandsafetythings.examples.tflitedetector/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=o;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"0c6b":function(e,t,r){"use strict";r("140e")},"140e":function(e,t,r){},c82f:function(e,t,r){"use strict";r("d70b")},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=r("f309"),s=(r("d5e8"),r("94ed")),i={primary:{lighten5:"#FFF2ED",lighten4:"#FFCFBE",lighten3:"#FFB398",lighten2:"#FF8B61",lighten1:"#FF6832",base:"#FF4300",darken1:"#EB3F00",darken2:"#D63900",darken3:"#C23300",darken4:"#9E2A00"},secondary:{lighten5:"#F5F4FE",lighten3:"#9F9CFF",base:"#5844EE",darken2:"#4435B6",darken4:"#2C2994"},accent:{lighten5:"#F5F4FE",lighten3:"#9F9CFF",base:"#5844EE",darken2:"#4435B6",darken4:"#2C2994"},success:{lighten5:"#F0F9F9",base:"#007A70"},warning:{lighten5:"#FFF9E5",base:"#FFC700"},error:{lighten5:"#FFF0F1",base:"#DB000D"},info:{lighten5:"#F0F8FF",base:"#0067C2"},grey:{lighten4:"#FAFAFA",lighten3:"#F4F5F5",lighten2:"#EAEBEB",lighten1:"#DADBDD",base:"#CACCCE",darken1:"#A0A3A7",darken2:"#858A8E",darken3:"#6C7075",darken4:"#494D50"},black:{base:"#27292A"}};n["a"].use(a["a"]);var c=new a["a"]({theme:{themes:{light:{primary:i.primary,secondary:i.accent,accent:i.accent,error:i.error,info:i.info,success:i.success,warning:i.warning,grey:i.grey,black:i.black}}},icons:{iconfont:"mdiSvg",values:{playBoxOutline:s["c"],cogOutline:s["a"],informationOutline:s["b"]}},options:{customProperties:!0}}),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("Toolbar",{attrs:{title:e.title,drawer:e.drawer},on:{"update:drawer":function(t){e.drawer=t}}}),r("NavDrawer",{attrs:{drawerState:e.drawer,drawerItems:e.drawerItems},on:{"update:drawerState":function(t){e.drawer=t},"update:drawer-state":function(t){e.drawer=t}}}),r("v-main",{ref:"mainContent"},[r("div",{style:e.contentStyle},[r("router-view")],1)]),r("Footer")],1)},l=[],u=r("b85c"),d=r("d4ec"),f=r("bee2"),p=r("257e"),m=r("262e"),v=r("2caf"),b=r("ade3"),h=(r("99af"),r("9ab4")),g=r("1b40"),y=r("8000"),w=720,S=function(e){Object(m["a"])(r,e);var t=Object(v["a"])(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(b["a"])(Object(p["a"])(e),"drawer",null),Object(b["a"])(Object(p["a"])(e),"title",""),Object(b["a"])(Object(p["a"])(e),"contentStyle",{width:"100%",padding:"0 48px"}),Object(b["a"])(Object(p["a"])(e),"drawerItems",[{title:"Live Stream",icon:"$playBoxOutline",to:"/"},{title:"Settings",icon:"$cogOutline",to:"/settings"}]),e}return Object(f["a"])(r,[{key:"mounted",value:function(){var e=this;this.title="TFLiteDetector";var t=new ResizeObserver((function(t){var r,n=Object(u["a"])(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;a.contentRect.width<w?e.contentStyle.padding="0 24px":e.contentStyle.padding="0 48px"}}catch(s){n.e(s)}finally{n.f()}}));t.observe(this.$refs.mainContent.$el)}}]),r}(g["b"]);S=Object(h["a"])([Object(g["a"])({components:{Toolbar:y["c"],NavDrawer:y["b"],Footer:y["a"]}})],S);var O=S,j=O,F=r("2877"),_=r("6544"),x=r.n(_),P=r("7496"),T=r("f6c4"),k=Object(F["a"])(j,o,l,!1,null,"47196331",null),C=k.exports;x()(k,{VApp:P["a"],VMain:T["a"]});var A=r("8c4f"),E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mx-auto my-12",staticStyle:{width:"100%","max-width":"1440px"}},[r("div",{staticClass:"text-h1 mb-6"},[e._v("Objective")]),r("div",{staticClass:"text-body-1 mb-16",staticStyle:{"max-width":"790px"}},[e._v(" Retrieve an image from the VideoPipeline, process it using a TensorFlow Lite detector and display the image on the Web UI. ")]),r("div",{staticClass:"text-h1 mb-6"},[e._v("Live stream")]),e._l([e.liveViewError,e.inferenceStatisticsError,e.userPreferencesStatusError],(function(t,n){return[t?r("v-alert",{key:n,staticClass:"mb-6",attrs:{type:"error",dense:"",text:"",icon:"$cancel"}},[e._v(" "+e._s(t)+" ")]):e._e()]})),e.userPreferencesStatus?[r("v-alert",{staticClass:"mb-6",attrs:{type:"error",dense:"",text:"",icon:"$cancel",value:!e.userPreferencesStatus.isSuccessful}},[r("span",{domProps:{innerHTML:e._s(e.userPreferencesStatus.message)}})])]:e._e(),r("img",{attrs:{width:"100%",src:e.liveViewUrl}}),e.inferenceStatistics?r("Info",{attrs:{accelerationType:e.inferenceStatistics.accelerationType,fps:e.inferenceStatistics.framesProcessedPerSecond,requestedFps:e.inferenceStatistics.requestedFramesPerSecond,inferenceTime:e.inferenceStatistics.inferenceTime}}):e._e()],2)},V=[],N=(r("bf19"),r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"font-weight-bold"},[e._v("Acceleration Type:")]),e._v(" "+e._s(e.accelerationType)+" ")]),r("div",{staticClass:"info-item"},[r("span",{staticClass:"font-weight-bold"},[e._v("FPS:")]),e._v(" "+e._s(e.fps>=0?e.fps:"N/A")+"/"+e._s(e.requestedFps)+" "),r("v-tooltip",{attrs:{bottom:"","content-class":"tooltip-content"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-icon",e._g(e._b({attrs:{small:""}},"v-icon",a,!1),n),[e._v("$informationOutline")])]}}])},[r("span",[e._v("Rendered FPS("+e._s(e.fps)+"): The average FPS rendered ( image conversion, inferencing and post processing ) by the app."),r("br"),e._v("Requested FPS("+e._s(e.requestedFps)+"): The FPS requested by the app from the Azena VideoPipeline.")])])],1),r("div",{staticClass:"info-item"},[r("span",{staticClass:"font-weight-bold"},[e._v("Inference Time:")]),e._v(" "+e._s(e.inferenceTime>=0?e.inferenceTime+" ms":"N/A")+" "),r("v-tooltip",{attrs:{bottom:"","content-class":"tooltip-content"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-icon",e._g(e._b({attrs:{small:""}},"v-icon",a,!1),n),[e._v("$informationOutline")])]}}])},[r("span",[e._v("The time in ms taken by the model to run inference on an image frame.")])])],1)])}),$=[],R=(r("a9e3"),n["a"].extend({name:"Info",props:{accelerationType:{type:String,required:!0},fps:{type:Number,required:!0},requestedFps:{type:Number,required:!0},inferenceTime:{type:Number,required:!0}}})),D=R,I=D,q=(r("0c6b"),r("132d")),B=r("3a2f"),U=Object(F["a"])(I,N,$,!1,null,"096ad120",null),M=U.exports;x()(U,{VIcon:q["a"],VTooltip:B["a"]});var L=r("bc3a"),J=r.n(L),H=function(){return"/app/com.securityandsafetythings.examples.tflitedetector/rest/example/"},z=J.a.create({baseURL:H(),timeout:5e3,headers:{"Content-type":"application/json"}}),G=z,W=function(){return G.get("inference-statistics")},K=function(){return G.get("user-preferences-status")},Q=function(e){Object(m["a"])(r,e);var t=Object(v["a"])(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(b["a"])(Object(p["a"])(e),"inferenceStatistics",null),Object(b["a"])(Object(p["a"])(e),"liveViewUrl",""),Object(b["a"])(Object(p["a"])(e),"liveViewError",""),Object(b["a"])(Object(p["a"])(e),"inferenceStatisticsError",""),Object(b["a"])(Object(p["a"])(e),"userPreferencesStatusError",""),Object(b["a"])(Object(p["a"])(e),"userPreferencesStatus",null),e}return Object(f["a"])(r,[{key:"retrieveImage",value:function(){var e=this;W().then((function(t){e.inferenceStatistics=t.data,e.inferenceStatisticsError=""})).catch((function(t){e.inferenceStatistics=null,"Network Error"===(null===t||void 0===t?void 0:t.toJSON().message)?e.inferenceStatisticsError="A network error occurred while attempting to get inference statistics.":e.inferenceStatisticsError="Something went wrong while attempting to get inference statistics."})),K().then((function(t){e.userPreferencesStatus=t.data,e.userPreferencesStatusError=""})).catch((function(t){e.userPreferencesStatus=null,"Network Error"===(null===t||void 0===t?void 0:t.toJSON().message)?e.userPreferencesStatusError="A network error occurred while attempting to get user preferences status.":e.userPreferencesStatusError="Something went wrong while attempting to get user preferences status."}));var t="rest/example/live?time="+Date.now(),r=new Image;r.onload=function(){e.liveViewUrl=t,e.liveViewError="","home"==e.$route.name&&window.requestAnimationFrame(e.retrieveImage)},r.onerror=function(){e.liveViewError="Unable to acquire video stream!",setTimeout((function(){return e.retrieveImage()}),500)},r.src=t}},{key:"mounted",value:function(){this.retrieveImage()}}]),r}(g["b"]);Q=Object(h["a"])([Object(g["a"])({name:"home",components:{Info:M}})],Q);var X=Q,Y=X,Z=r("0798"),ee=Object(F["a"])(Y,E,V,!1,null,"e9abcdd4",null),te=ee.exports;x()(ee,{VAlert:Z["a"]});var re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mx-auto my-12",staticStyle:{width:"100%","max-width":"1440px"}},[r("div",{staticStyle:{"max-width":"790px"}},[r("div",{staticClass:"text-h1 mb-12"},[e._v("Settings")]),e.userPreferencesStatus?[r("v-alert",{staticClass:"mb-6",attrs:{type:e.userPreferencesStatus.isSuccessful?"success":"error",icon:e.userPreferencesStatus.isSuccessful?"$success":"$cancel",dense:"",text:""}},[r("span",{staticClass:"dynamic-text",domProps:{innerHTML:e._s(e.userPreferencesStatus.message)}})])]:e._e(),r("div",{staticClass:"text-h2 font-weight-medium mb-2"},[e._v("Confidence threshold")]),r("div",{staticClass:"mb-12"},[e._v(" The confidence of the detection must be equal or above this value for the bounding boxes to be displayed. ")]),r("v-slider",{staticClass:"confidence-slider mt-8 mb-12",attrs:{min:e.min,max:e.max,step:this.step,"hide-details":"",value:e.slider,"thumb-label":"always"},model:{value:e.slider,callback:function(t){e.slider=t},expression:"slider"}}),r("div",{staticClass:"text-h2 font-weight-medium mb-2"},[e._v("Acceleration type")]),r("div",{staticClass:"mb-6"},[e._v("Select one of these types to accelerate your inference operations.")]),e.accelerationTypesResult?[r("v-alert",{staticClass:"mb-6",attrs:{type:"error",dense:"",text:"",icon:"$cancel",value:!e.accelerationTypesResult.isSuccessful}},[e._v(" "+e._s(e.accelerationTypesResult.message)+" ")])]:e._e(),r("v-radio-group",{staticClass:"accelerationDivRadioGroup mb-8",attrs:{dense:""},model:{value:e.selectedAccelerationType,callback:function(t){e.selectedAccelerationType=t},expression:"selectedAccelerationType"}},[e._l(e.accelerationTypes,(function(t){return[t.isModernAPI?r("v-divider",{key:t.name,staticClass:"mb-4"}):e._e(),r("v-radio",{key:t.name,staticClass:"mb-2",attrs:{value:t.name},scopedSlots:e._u([{key:"label",fn:function(){return[r("div",{staticClass:"text--primary font-weight-bold"},[e._v(" "+e._s(t.name)+" ")])]},proxy:!0}],null,!0)}),r("div",{key:t.name,staticClass:"grey--text text--darken-3 ml-8 mb-4 dynamic-text",domProps:{innerHTML:e._s(t.description)}})]}))],2),r("v-btn",{attrs:{ripple:"",color:"primary",width:"65px"},on:{click:function(t){return e.postUserPreferences()}}},[e._v("Save")])],2)])},ne=[],ae=(r("d3b7"),r("5530")),se=function(){return G.get("user-preferences")},ie=function(e,t){return G.post("user-preferences",e,Object(ae["a"])(Object(ae["a"])({},t),{},{timeout:3e4}))},ce=function(){return G.get("acceleration-types")},oe=function(e){Object(m["a"])(r,e);var t=Object(v["a"])(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(b["a"])(Object(p["a"])(e),"selectedAccelerationType","None"),Object(b["a"])(Object(p["a"])(e),"accelerationTypes",[]),Object(b["a"])(Object(p["a"])(e),"min",0),Object(b["a"])(Object(p["a"])(e),"max",1),Object(b["a"])(Object(p["a"])(e),"slider",0),Object(b["a"])(Object(p["a"])(e),"step",.01),Object(b["a"])(Object(p["a"])(e),"userPreferencesStatus",null),Object(b["a"])(Object(p["a"])(e),"accelerationTypesResult",null),e}return Object(f["a"])(r,[{key:"mounted",value:function(){this.getUserPreferences(),this.getAccelerationTypes()}},{key:"postUserPreferences",value:function(){var e=this;this.userPreferencesStatus=null;var t={headers:{"Content-Type":"application/json"}},r={confidence:this.slider,accelerationType:this.selectedAccelerationType};ie(r,t).then((function(t){e.userPreferencesStatus=t.data})).catch((function(t){"Network Error"===(null===t||void 0===t?void 0:t.toJSON().message)?e.userPreferencesStatus={message:"A network error occurred while attempting to update the settings.",isSuccessful:!1}:e.userPreferencesStatus={message:"Something went wrong while attempting to update the settings.",isSuccessful:!1}})).finally((function(){window.scrollTo(0,0)}))}},{key:"getUserPreferences",value:function(){var e=this;se().then((function(t){if(t.data){e.userPreferencesStatus=null;var r=t.data;e.slider=r.confidence,e.selectedAccelerationType=r.accelerationType}})).catch((function(t){"Network Error"===(null===t||void 0===t?void 0:t.toJSON().message)?e.userPreferencesStatus={message:"A network error occurred while attempting to retrieve the settings.",isSuccessful:!1}:e.userPreferencesStatus={message:"Something went wrong while attempting to retrieve the settings.",isSuccessful:!1}}))}},{key:"getAccelerationTypes",value:function(){var e=this;ce().then((function(t){e.accelerationTypesResult={isSuccessful:!0},e.accelerationTypes=t.data})).catch((function(t){"Network Error"===(null===t||void 0===t?void 0:t.toJSON().message)?e.accelerationTypesResult={message:"A network error occurred while attempting to get the acceleration types.",isSuccessful:!1}:e.accelerationTypesResult={message:"Something went wrong while attempting to get the acceleration types.",isSuccessful:!1}}))}}]),r}(g["b"]);oe=Object(h["a"])([Object(g["a"])({name:"Settings"})],oe);var le=oe,ue=le,de=(r("c82f"),r("8336")),fe=r("ce7e"),pe=r("67b6"),me=r("43a6"),ve=r("ba0d"),be=Object(F["a"])(ue,re,ne,!1,null,"9fc86d76",null),he=be.exports;x()(be,{VAlert:Z["a"],VBtn:de["a"],VDivider:fe["a"],VRadio:pe["a"],VRadioGroup:me["a"],VSlider:ve["a"]}),n["a"].use(A["a"]);var ge=new A["a"]({mode:"history",base:"/app/com.securityandsafetythings.examples.tflitedetector/",routes:[{path:"/",name:"home",component:te},{path:"/settings",name:"settings",component:he},{path:"*",redirect:"/"}]});n["a"].config.productionTip=!1,new n["a"]({router:ge,vuetify:c,render:function(e){return e(C)}}).$mount("#app")},d70b:function(e,t,r){}});
//# sourceMappingURL=app.bc3b391e.js.map